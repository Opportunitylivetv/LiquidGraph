<html>

<head>
<title> Liquid Graph</title>

<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
<meta property="og:title" content="Liquid Graph"/>
<meta property="og:type" content="website"/>
<meta property="og:url" content="http://petercottle.com/liquidGraph/index.html"/>
<meta property="og:image" content="http://petercottle.com/liquidGraph/Capture3.PNG"/>
<meta property="og:site_name" content="LiquidGraph"/>
<meta property="og:description" content="An AI solver for rotating particles out of a 2D maze. Coded by Peter Cottle"/>


<link href="style.css" rel="stylesheet" type="text/css"/>

<script type="text/javascript" src="Tween.js"></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<!-- <script type="text/javascript" src="jquery.min.js"></script> -->
<script type="text/javascript" src="raphael-min.js"></script>
<script type="text/javascript" src="liquidGraphUI.js"></script>
<script type="text/javascript" src="liquidGraph.js"></script>

<script type="text/javascript">

$j = jQuery.noConflict();

//globals
var notifyTimeout = null;
var p = null;

var polygonInsertControl = null;
var polyController = null;

var debug = false;


function startLoadingWithText(theText) {
    startLoading();
    topNotify(theText);
}

function stopLoadingWithText() {
    stopLoading();
    topNotifyClear();
}

function topNotifyClear() {
    $j('#topNotifyBar').html('');
    $j('#topNotifyBarHolder').addClass('topNotifyBarHidden');
}

function startLoading() {
    isLoading = true;

    var wHeight = $j(window).height();
    var wWidth = $j(window).width();
    $j('.loadingGif').css('left',String(wWidth/2 - 220*0.5) + 'px');
    $j('.loadingGif').css('top',String(wHeight / 2 - 19*0.5) + 'px');
    $j('.loadingGif').fadeIn();
}

function stopLoading() {
    isLoading = false;
    $j('.loadingGif').fadeOut();
}


function topNotify(theText) {
    topNotifyHtml("<h1>" + theText + "</h1>");
}

function topNotifyTemp(theText,time) {
    if(!time) { time = 3000; }
    topNotify(theText);
    setTimeout('topNotifyClear();',time);
}

function topNotifyHtml(theText) {
    //and if someone is clicking fast, get rid of it
    if(notifyTimeout)
    {
        clearTimeout(notifyTimeout);
    }

    //basically, if its already displayed, hide it and come back in 700ms
    if(!$j('#topNotifyBarHolder').hasClass('topNotifyBarHidden'))
    {
        //clear and come back
        topNotifyClear();
        var jsToExecute = "topNotifyHtml('" + theText + "');";
        notifyTimeout = setTimeout(jsToExecute,700);
        return;
    }

    $j('#topNotifyBar').html("<h1>" + theText + "</h1>");

    $j('#topNotifyBarHolder').removeClass('topNotifyBarHidden');
}

$j(document).ready(function(){

    startLoadingWithText("Hello world!");
    setTimeout('stopLoadingWithText();',1000);
    
    p = Raphael("canvasHolder");

    polygonInserter = new polygonUIControl();
    polyController = new polygonController();
    partController = new particleController();
    particleTracer = new TraceUIControl();
    polyEditor = new EditUIControl();

    $j(window).resize(windowResize);
});

</script>


</head>


<body>

<div id="canvasHolder" style="border:1px solid black; box-shadow: 5px 5px 5px black">
</div>

<img src="loading.gif"class="loadingGif"/>

<div id="topNotifyBarWrapper" style="width:100%;text-align:center;position:absolute;top:-100px;height:0px;">
    <div id="topNotifyBarHolder" class="buttonGradient smooth topNotifyBar topNotifyBarHidden bubbleToStop" onclick="topNotifyClear()" style="display:inline-block;cursor:pointer">
        <div id="topNotifyBar">

        </div>
    </div>
</div>

<a id="addPolyButton" class="uiButton">Add Polygon
</a>

<a id="traceButton" class="uiButton">Trace Particle
</a>

<a id="bombardButton" class="uiButton uiButtonYellow" onclick="javscript:bombard();">Bombard
</a>



<a id="editPolyButton" class="uiButton uiButtonYellow">Edit Polygons
</a>

<a id="clearParticlesButton" class="uiButton uiButtonYellow" onclick="javascript:partController.clearAll();">Clear Particles
</a>

<a id="togglePathsButton" class="uiButton uiButtonYellow" onclick="javascript:partController.togglePathPreference();">Toggle Paths
</a>

<a id="importExportButton" class="uiButton uiButtonPink" onclick="javascript:toggleImportExport();">Import / Export
</a>

<div id="dialogWrapper" style="width:100%;" class="showing smooth">
    <div id="importExportDialog" class="smooth">

        <div style="text-align:center;margin-top:10px;">
            <textarea id="jsonTextArea" style="width:80%;" rows="5">
            Paste your JSON here
            </textarea>
        </div>

        
        <div style="text-align:center">
            <a id="importButton" class=" uiButtonPink" onclick="javascript:importGeometry()">
            Import
            </a>

            <a id="exportButton" class=" uiButtonPink" onclick="javascript:exportGeometry()">
            Export
            </a>
        </div>
        
    </div>
</div>

</body>

</html>
