<html>

<head>
<title> Liquid Graph</title>

<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
<meta property="og:title" content="Liquid Graph"/>
<meta property="og:type" content="website"/>
<meta property="og:url" content="http://petercottle.com/liquidGraph/index.html"/>
<meta property="og:image" content="http://petercottle.com/liquidGraph/Capture3.PNG"/>
<meta property="og:site_name" content="LiquidGraph"/>
<meta property="og:description" content="An AI solver for rotating particles out of a 2D maze. Coded by Peter Cottle"/>


<link href="style.css" rel="stylesheet" type="text/css"/>



</head>


<body>

<div id="canvasHolder" style="border:1px solid black; box-shadow: 5px 5px 5px black">
</div>

<img src="loading.gif"class="loadingGif"/>

<div id="topNotifyBarWrapper" style="width:100%;text-align:center;position:absolute;top:-100px;height:0px;">
    <div id="topNotifyBarHolder" class="buttonGradient smooth topNotifyBar topNotifyBarHidden bubbleToStop" onclick="topNotifyClear()" style="display:inline-block;cursor:pointer">
        <div id="topNotifyBar">

        </div>
    </div>
</div>

<a id="addPolyButton" class="uiButton">Add Polygon
</a>

<a id="traceButton" class="uiButton">Trace Particle
</a>

<a id="clearButton" class="uiButton uiButtonRed" onclick="javascript:clearAll();">Clear All
</a>

<a id="solveButton" class="uiButton uiButtonWhite">Solve!
</a>

<a id="bombardButton" class="uiButton uiButtonYellow" onclick="javscript:bombard();">Bombard
</a>

<a id="testButton" style="position:absolute;bottom:20px;left:10px;display:none" class="uiButton uiButtonPink" onclick="javascript:testSampling();">Test Sampling (Beware)
</a>

<a id="editPolyButton" class="uiButton uiButtonYellow">Edit Polygons
</a>

<a id="clearParticlesButton" class="uiButton uiButtonYellow" onclick="javascript:partController.clearAll();">Clear Particles
</a>

<a id="togglePathsButton" class="uiButton uiButtonYellow" onclick="javascript:partController.togglePathPreference();">Toggle Paths
</a>

<a id="importExportButton" class="uiButton uiButtonPink" onclick="javascript:toggleImportExport();">Import / Export
</a>

<div id="dialogWrapper" style="width:100%;bottom:-200px" class="smooth">
    <div id="importExportDialog" class="smooth">

        <div style="text-align:center;margin-top:10px;">
            <textarea id="jsonTextArea" style="width:80%;" rows="5">

{"polys":[{"fillColor":"23-hsb(0.6095121571794153,0.7,1)-hsb(0.8095121571794153,0.9,1)","vertices":[{"x":0.43473684210526314,"y":0.4780780550027279},{"x":0.4305263157894737,"y":0.24049362604599697},{"x":0.6505263157894737,"y":0.24728175258761786},{"x":0.6484210526315789,"y":0.37043776269988243},{"x":0.5715789473684211,"y":0.39565080414018855},{"x":0.5189473684210526,"y":0.37528642451532584},{"x":0.5831578947368421,"y":0.355891777253552},{"x":0.6157894736842106,"y":0.3103143561883832},{"x":0.5357894736842105,"y":0.2695855969386579},{"x":0.47578947368421054,"y":0.29285917365278663},{"x":0.4789473684210526,"y":0.4693504637349295}]},{"fillColor":"36-hsb(0.10246130097657442,0.7,1)-hsb(0.3024613009765744,0.9,1)","vertices":[{"x":0.7578947368421053,"y":0.2579488085815935},{"x":0.6747368421052632,"y":0.33358793290251193},{"x":0.6621052631578948,"y":0.45286501356242176},{"x":0.7336842105263158,"y":0.4984424346275904},{"x":0.8115789473684211,"y":0.4722596608241957},{"x":0.7252631578947368,"y":0.4344400986637365},{"x":0.7189473684210527,"y":0.37625615687841457},{"x":0.7789473684210526,"y":0.29964730019440755}]},{"fillColor":"125-hsb(0.08628494553267957,0.7,1)-hsb(0.2862849455326796,0.9,1)","vertices":[{"x":0.21473684210526317,"y":0.5828091502163071},{"x":0.12842105263157894,"y":0.4169849161281399},{"x":0.3,"y":0.48874511099670354},{"x":0.16,"y":0.32873927108706846},{"x":0.3663157894736842,"y":0.4208638455804947},{"x":0.22421052631578947,"y":0.2278871053258439},{"x":0.35578947368421054,"y":0.28704077947425444},{"x":0.3231578947368421,"y":0.16873343117743336},{"x":0.17578947368421052,"y":0.17746102244523165},{"x":0.08210526315789474,"y":0.45965314010404257}]},{"fillColor":"107-hsb(0.4534639405086637,0.7,1)-hsb(0.6534639405086637,0.9,1)","vertices":[{"x":0.24526315789473685,"y":0.1609755722727238},{"x":0.2463157894736842,"y":0.10667055993975672},{"x":0.3094736842105263,"y":0.09891270103504714},{"x":0.34421052631578947,"y":0.15127824864183678},{"x":0.38105263157894737,"y":0.16388476936198987},{"x":0.4168421052631579,"y":0.11054948939211151},{"x":0.4789473684210526,"y":0.06206287123767664},{"x":0.5273684210526316,"y":0.09697323630886975},{"x":0.5273684210526316,"y":0.16388476936198987},{"x":0.5894736842105263,"y":0.18133995189758642},{"x":0.628421052631579,"y":0.11636788357064372},{"x":0.5947368421052631,"y":0.06497206832694273},{"x":0.4631578947368421,"y":0.032970900345015715},{"x":0.39052631578947367,"y":0.07369965959474102},{"x":0.33052631578947367,"y":0.07369965959474102},{"x":0.2431578947368421,"y":0.06400233596385405},{"x":0.19473684210526315,"y":0.12994413665388546}]},{"fillColor":"166-hsb(0.5172827944159508,0.7,1)-hsb(0.7172827944159508,0.9,1)","vertices":[{"x":0.29473684210526313,"y":0.5925064738471941},{"x":0.30526315789473685,"y":0.6351746978230969},{"x":0.2505263157894737,"y":0.6856007807037091},{"x":0.2,"y":0.6991770337869508},{"x":0.15789473684210525,"y":0.6545693450848707},{"x":0.14,"y":0.6613574716264916},{"x":0.16,"y":0.7030559632393056},{"x":0.2336842105263158,"y":0.7214808781379909},{"x":0.30105263157894735,"y":0.6856007807037091},{"x":0.3178947368421053,"y":0.6448720214539838},{"x":0.3105263157894737,"y":0.5944459385733715}]},{"fillColor":"106-hsb(0.2299270236864686,0.7,1)-hsb(0.4299270236864686,0.9,1)","vertices":[{"x":0.13473684210526315,"y":0.7001467661500396},{"x":0.10947368421052632,"y":0.7137230192332814},{"x":0.11473684210526315,"y":0.7534820461199179},{"x":0.15578947368421053,"y":0.7719069610186032},{"x":0.14736842105263157,"y":0.7913016082803771},{"x":0.10947368421052632,"y":0.7767556228340466},{"x":0.09157894736842105,"y":0.7389360606735874},{"x":0.10105263157894737,"y":0.69238890724533}]},{"fillColor":"58-hsb(0.7230999063700438,0.7,1)-hsb(0.9230999063700438,0.9,1)","vertices":[{"x":0.11473684210526315,"y":0.6254773741922098},{"x":0.061052631578947365,"y":0.5789302207639523},{"x":0.11263157894736842,"y":0.5420803909665819},{"x":0.14736842105263157,"y":0.5527474469605576},{"x":0.15789473684210525,"y":0.6070524592935246}]},{"fillColor":"116-hsb(0.26362585723400117,0.7,1)-hsb(0.4636258572340012,0.9,1)","vertices":[{"x":0.06421052631578947,"y":0.2967381031051414},{"x":0.12210526315789473,"y":0.22400817587348912},{"x":0.06526315789473684,"y":0.1929767402546508},{"x":0.12421052631578948,"y":0.15030851627874808},{"x":0.06631578947368422,"y":0.12315601011226458},{"x":0.1431578947368421,"y":0.09212457449342626},{"x":0.1568421052631579,"y":0.10667055993975672},{"x":0.10842105263157895,"y":0.12315601011226458},{"x":0.15263157894736842,"y":0.14545985446330462},{"x":0.09894736842105263,"y":0.1910372755284734},{"x":0.14421052631578948,"y":0.22303844351040042}]},{"fillColor":"73-hsb(0.4347502348944545,0.7,1)-hsb(0.6347502348944545,0.9,1)","vertices":[{"x":0.035789473684210524,"y":0.12509547483844197},{"x":0.05578947368421053,"y":0.06594180069003143},{"x":0.07578947368421053,"y":0.08630618031489407},{"x":0.10736842105263159,"y":0.0775785890470958},{"x":0.14105263157894737,"y":0.06303260360076533},{"x":0.16631578947368422,"y":0.07176019486856361},{"x":0.2,"y":0.07466939195782972},{"x":0.20105263157894737,"y":0.055274744696055755},{"x":0.10210526315789474,"y":0.05818394178532186},{"x":0.034736842105263156,"y":0.06109313887458794}]},{"fillColor":"90-hsb(0.49021040778607133,0.7,1)-hsb(0.6902104077860713,0.9,1)","vertices":[{"x":0.9,"y":0.707904625054749},{"x":0.8389473684210527,"y":0.672994259983556},{"x":0.8694736842105263,"y":0.6012340651149923},{"x":0.8852631578947369,"y":0.5818394178532185},{"x":0.8084210526315789,"y":0.5391711938773158},{"x":0.8326315789473684,"y":0.503291096443034},{"x":0.9105263157894737,"y":0.48680564627052614},{"x":0.86,"y":0.5314133349726062},{"x":0.8821052631578947,"y":0.5585658411390897},{"x":0.9252631578947368,"y":0.5624447705914445},{"x":0.9021052631578947,"y":0.618689247650589},{"x":0.8726315789473684,"y":0.6545693450848707},{"x":0.9273684210526316,"y":0.679782386525177}]},{"fillColor":"126-hsb(0.19209746588021517,0.7,1)-hsb(0.3920974658802152,0.9,1)","vertices":[{"x":0.7852631578947369,"y":0.5197765466155418},{"x":0.7578947368421053,"y":0.5643842353176219},{"x":0.78,"y":0.6080221916566133},{"x":0.8294736842105264,"y":0.6119011211089681},{"x":0.7936842105263158,"y":0.6623272039895806},{"x":0.828421052631579,"y":0.7088743574178379},{"x":0.8842105263157894,"y":0.7302084694057891},{"x":0.8642105263157894,"y":0.7651188344769823},{"x":0.8231578947368421,"y":0.7321479341319665},{"x":0.7778947368421053,"y":0.6458417538170725},{"x":0.74,"y":0.5343225320618723}]},{"fillColor":"96-hsb(0.4348005946725607,0.7,1)-hsb(0.6348005946725608,0.9,1)","vertices":[{"x":0.8863157894736842,"y":0.387892945235479},{"x":0.8115789473684211,"y":0.3568615096166407},{"x":0.8589473684210527,"y":0.33164846817633453},{"x":0.8957894736842106,"y":0.33552739762868933},{"x":0.8568421052631578,"y":0.2579488085815935},{"x":0.8105263157894737,"y":0.21043192279024736},{"x":0.8747368421052631,"y":0.18037021953449772},{"x":0.9242105263157895,"y":0.19976486679627165},{"x":0.9221052631578948,"y":0.27928292056954485},{"x":0.9463157894736842,"y":0.3064354267360284},{"x":0.9210526315789473,"y":0.326799806360891},{"x":0.9273684210526316,"y":0.3946810717770999}]},{"fillColor":"72-hsb(0.7120468942448497,0.7,1)-hsb(0.9120468942448496,0.9,1)","vertices":[{"x":0.8442105263157895,"y":0.4451071546577121},{"x":0.7526315789473684,"y":0.4325006339375591},{"x":0.7842105263157895,"y":0.40825732486034166},{"x":0.8315789473684211,"y":0.42668223975902686},{"x":0.8621052631578947,"y":0.42959143684829304},{"x":0.9052631578947369,"y":0.4179546484912286},{"x":0.9536842105263158,"y":0.45383474592551043},{"x":0.8789473684210526,"y":0.4683807313718409}]},{"fillColor":"65-hsb(0.6970407448709012,0.7,1)-hsb(0.8970407448709012,0.9,1)","vertices":[{"x":0.6168421052631579,"y":0.49262404044905833},{"x":0.5178947368421053,"y":0.48971484335979226},{"x":0.5231578947368422,"y":0.4489860841100669},{"x":0.5894736842105263,"y":0.47613859027655053},{"x":0.6273684210526316,"y":0.4664412666456635},{"x":0.6536842105263158,"y":0.4703201960980183},{"x":0.6568421052631579,"y":0.49456350517523573}]},{"fillColor":"57-hsb(0.35178847666829827,0.7,1)-hsb(0.5517884766682983,0.9,1)","vertices":[{"x":0.748421052631579,"y":0.20364379624862647},{"x":0.6673684210526316,"y":0.1929767402546508},{"x":0.6736842105263158,"y":0.15418744573110288},{"x":0.7105263157894737,"y":0.17649129008214293},{"x":0.7326315789473684,"y":0.17164262826669946},{"x":0.7063157894736842,"y":0.13188360138006286},{"x":0.7126315789473684,"y":0.09988243339813582},{"x":0.7389473684210527,"y":0.09697323630886975},{"x":0.7736842105263158,"y":0.14061119264786112},{"x":0.8021052631578948,"y":0.08824564504107146},{"x":0.8547368421052631,"y":0.10570082757666802},{"x":0.86,"y":0.15127824864183678},{"x":0.8347368421052631,"y":0.14545985446330462},{"x":0.8231578947368421,"y":0.12412574247535328},{"x":0.8021052631578948,"y":0.14061119264786112},{"x":0.8,"y":0.1609755722727238},{"x":0.78,"y":0.16776369881434466},{"x":0.7442105263157894,"y":0.13964146028477242},{"x":0.7536842105263157,"y":0.1823096842606751}]},{"fillColor":"114-hsb(0.6561342746019364,0.7,1)-hsb(0.8561342746019365,0.9,1)","vertices":[{"x":0.6747368421052632,"y":0.06206287123767664},{"x":0.7757894736842105,"y":0.04751688579134618},{"x":0.9210526315789473,"y":0.04751688579134618},{"x":0.9242105263157895,"y":0.08339698322562798},{"x":0.7978947368421052,"y":0.07563912432091839},{"x":0.7094736842105264,"y":0.0795180537732732}]},{"fillColor":"139-hsb(0.2991519523784518,0.7,1)-hsb(0.49915195237845184,0.9,1)","vertices":[{"x":0.003157894736842105,"y":0.001939464726177395},{"x":0.9926315789473684,"y":0.00387892945235479},{"x":0.988421052631579,"y":0.8979721682201338},{"x":0.48526315789473684,"y":0.8960327034939565},{"x":0.43894736842105264,"y":0.8126357202683284},{"x":0.52,"y":0.815845824411135},{"x":0.4968421052631579,"y":0.8776077885952713},{"x":0.9747368421052631,"y":0.8814867180476261},{"x":0.9768421052631578,"y":0.017455182535596553},{"x":0.021052631578947368,"y":0.014545985446330465},{"x":0.028421052631578948,"y":0.8795472533214487},{"x":0.26526315789473687,"y":0.8795472533214487},{"x":0.23894736842105263,"y":0.815845824411135},{"x":0.3463157894736842,"y":0.8145751849945059},{"x":0.28,"y":0.8950629711308676},{"x":0.01263157894736842,"y":0.8989419005832224}]},{"fillColor":"39-hsb(0.015674131363630297,0.7,1)-hsb(0.2156741313636303,0.9,1)","vertices":[{"x":0.32105263157894737,"y":0.7507529447224383},{"x":0.3494736842105263,"y":0.7216609738297773},{"x":0.3589473684210526,"y":0.7730567890734783},{"x":0.3989473684210526,"y":0.7672383948949462},{"x":0.39789473684210525,"y":0.7846935774305429},{"x":0.32,"y":0.7856633097936314}]},{"fillColor":"4-hsb(0.26714023351669314,0.7,1)-hsb(0.46714023351669315,0.9,1)","vertices":[{"x":0.32210526315789473,"y":0.5935771376587573},{"x":0.33263157894736844,"y":0.6624281354380548},{"x":0.3031578947368421,"y":0.7060660917770462},{"x":0.24105263157894738,"y":0.7409764568482394},{"x":0.17684210526315788,"y":0.7603711041100134},{"x":0.17894736842105263,"y":0.8001301309966498},{"x":0.2926315789473684,"y":0.7477645833898602},{"x":0.33789473684210525,"y":0.7021871623246915},{"x":0.34421052631578947,"y":0.6663070648904096}]},{"fillColor":"115-hsb(0.06026397552341223,0.7,1)-hsb(0.26026397552341224,0.9,1)","vertices":[{"x":0.22631578947368422,"y":0.6611556087295427},{"x":0.23789473684210527,"y":0.5583639782421409},{"x":0.2873684210526316,"y":0.6107295258489305}]},{"fillColor":"106-hsb(0.47533112131059174,0.7,1)-hsb(0.6753311213105917,0.9,1)","vertices":[{"x":0.34421052631578947,"y":0.5299785867237687},{"x":0.42210526315789476,"y":0.6846310483406205},{"x":0.46421052631578946,"y":0.5294738702464288},{"x":0.5484210526315789,"y":0.7059651603285717},{"x":0.5663157894736842,"y":0.5236554760678966},{"x":0.6652631578947369,"y":0.7108138221440153},{"x":0.7242105263157895,"y":0.5440198556927592},{"x":0.8021052631578948,"y":0.7408755253997649},{"x":0.3705263157894737,"y":0.7369965959474101}]}],"particles":[]}

</textarea>
        </div>


        <div style="text-align:center">
            <a id="importButton" class=" uiButtonPink" onclick="javascript:importGeometry()">
            Import
            </a>

            <a id="exportButton" class=" uiButtonPink" onclick="javascript:exportGeometry()">
            Export
            </a>
        </div>

    </div>
</div>


<div id="demoWrapper" class="smooth">

    <div id="demoDiv" class="smooth">

        <h2> Welcome! </h2>

        <p>
            This application finds a series of rotations to roll a small ball (or particle) out of a maze with a gravity field. It's related to my current research at UC Berkeley and combines concepts from ray tracing, artifical intelligence search, computational geometry, and mesh generation. Enjoy!
        </p>

        <div style="text-align:center;margin:20px;">
        <a onclick="javascript:executeDemo();" id="demoButton" class="uiButton" style="position:static"> Show me the demo! </a>
        </div>


    </div>
</div>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<!--<script type="text/javascript" src="jquery.min.js"></script> -->
<script type="text/javascript" src="underscore-min.js"></script>
<script type="text/javascript" src="raphael-min.js"></script>

<script type="text/javascript" src="liquidGraphUI.js"></script>
<script type="text/javascript" src="liquidGraph.js"></script>
<script type="text/javascript" src="liquidGraphAI.js"></script>
<script type="text/javascript" src="main.js"></script>

<script type="text/javascript">
var DEMO_VERTEX_ID = 31;

</script>

</body>

</html>
